<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>StudyBuddy AI - Ultimate Hub (All in One)</title>
<meta name="theme-color" content="#0b1225" />

<style>
:root{
  --bg:#0b1225;
  --card:#111a33;
  --card2:#0f1730;
  --text:#ffffff;
  --muted:rgba(255,255,255,.65);
  --accent:#22c55e;
  --blue:#2563eb;
  --danger:#ef4444;
  --border:rgba(255,255,255,.10);
}
.light{
  --bg:#f3f4f6;
  --card:#ffffff;
  --card2:#ffffff;
  --text:#0b1225;
  --muted:rgba(0,0,0,.55);
  --border:rgba(0,0,0,.10);
}
*{box-sizing:border-box;margin:0;padding:0;font-family:Arial,Helvetica,sans-serif}
body{
  background:var(--bg);
  color:var(--text);
  min-height:100vh;
  display:flex;
  justify-content:center;
}
.app{
  width:1100px;
  max-width:100%;
  min-height:100vh;
  display:flex;
}
.sidebar{
  width:280px;
  background:linear-gradient(180deg,var(--card),var(--card2));
  border-right:1px solid var(--border);
  padding:14px;
  display:flex;
  flex-direction:column;
  gap:12px;
}
.brand{
  padding:12px;
  border-radius:14px;
  border:1px solid var(--border);
  background:rgba(255,255,255,.03);
}
.brand h1{font-size:18px}
.brand p{font-size:12px;color:var(--muted);margin-top:6px;line-height:1.3}
.nav{
  display:flex;
  flex-direction:column;
  gap:8px;
}
.btn{
  width:100%;
  padding:12px;
  border:none;
  border-radius:14px;
  cursor:pointer;
  font-weight:bold;
  background:rgba(255,255,255,.06);
  color:var(--text);
  border:1px solid var(--border);
  text-align:left;
  transition:.15s;
}
.btn:hover{transform:translateY(-1px);background:rgba(255,255,255,.09)}
.btn.active{
  background:linear-gradient(135deg,#2f6cff,#1e4ed8);
  border-color:rgba(255,255,255,.18);
}
.smallrow{
  display:flex;
  gap:8px;
}
.smallrow .btn{text-align:center}
.footer{
  margin-top:auto;
  padding:12px;
  border-radius:14px;
  border:1px solid var(--border);
  background:rgba(255,255,255,.03);
  font-size:12px;
  color:var(--muted);
  line-height:1.35;
}
.main{
  flex:1;
  padding:14px;
  display:flex;
  flex-direction:column;
  gap:12px;
}
.topbar{
  display:flex;
  gap:10px;
  align-items:center;
  justify-content:space-between;
  padding:12px;
  border-radius:16px;
  border:1px solid var(--border);
  background:rgba(255,255,255,.03);
}
.topbar .left{
  display:flex;
  gap:10px;
  align-items:center;
}
.pill{
  padding:8px 10px;
  border-radius:999px;
  background:rgba(255,255,255,.06);
  border:1px solid var(--border);
  font-size:12px;
  color:var(--muted);
}
.topbar .right{
  display:flex;
  gap:8px;
  align-items:center;
}
.iconbtn{
  padding:10px 12px;
  border-radius:12px;
  border:1px solid var(--border);
  background:rgba(255,255,255,.06);
  color:var(--text);
  cursor:pointer;
}
.iconbtn:hover{background:rgba(255,255,255,.09)}
.pages{
  flex:1;
  display:flex;
  gap:12px;
  min-height:0;
}
.page{
  flex:1;
  display:none;
  min-height:0;
}
.page.active{display:flex}
.card{
  flex:1;
  border-radius:18px;
  border:1px solid var(--border);
  background:rgba(255,255,255,.03);
  padding:12px;
  min-height:0;
  display:flex;
  flex-direction:column;
}
.card h2{font-size:16px;margin-bottom:10px}
.sub{font-size:12px;color:var(--muted);margin-bottom:10px;line-height:1.35}
hr{
  border:none;
  height:1px;
  background:var(--border);
  margin:10px 0;
}
.input, input, textarea, select{
  width:100%;
  padding:12px;
  border-radius:14px;
  border:1px solid var(--border);
  background:rgba(255,255,255,.05);
  color:var(--text);
  outline:none;
}
textarea{min-height:120px;resize:vertical}
.row{display:flex;gap:10px;align-items:center}
.row > *{flex:1}
.green{background:linear-gradient(135deg,#22c55e,#16a34a);border:none;color:#fff}
.blue{background:linear-gradient(135deg,#2f6cff,#1e4ed8);border:none;color:#fff}
.red{background:linear-gradient(135deg,#ef4444,#b91c1c);border:none;color:#fff}
.chatWrap{
  flex:1;
  min-height:0;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.chatWindow{
  flex:1;
  min-height:0;
  overflow:auto;
  padding:10px;
  border-radius:16px;
  border:1px solid var(--border);
  background:rgba(0,0,0,.12);
}
.light .chatWindow{background:rgba(255,255,255,.55)}
.msg{
  max-width:78%;
  padding:10px 12px;
  border-radius:16px;
  margin:8px 0;
  white-space:pre-wrap;
  line-height:1.35;
}
.msg.user{background:var(--blue);color:#fff;margin-left:auto}
.msg.bot{background:rgba(255,255,255,.08);border:1px solid var(--border)}
.light .msg.bot{background:#e5e7eb;color:#000}
.chatInput{
  display:flex;
  gap:8px;
}
.chatInput input{flex:1}
.badge{
  display:inline-block;
  padding:4px 8px;
  border-radius:999px;
  border:1px solid var(--border);
  background:rgba(255,255,255,.06);
  font-size:12px;
  color:var(--muted);
}
.grid{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:10px;
}
.gameBtn{
  padding:14px;
  border-radius:16px;
  border:1px solid var(--border);
  background:rgba(255,255,255,.06);
  cursor:pointer;
  font-weight:bold;
  text-align:center;
}
.gameBtn:hover{background:rgba(255,255,255,.10)}
.mono{font-family:monospace}
.codebox{
  padding:12px;
  border-radius:16px;
  border:1px solid var(--border);
  background:rgba(0,0,0,.25);
  overflow:auto;
  white-space:pre-wrap;
  font-family:monospace;
  font-size:13px;
  line-height:1.35;
}
.light .codebox{background:#111827;color:#fff}
.note{font-size:12px;color:var(--muted);line-height:1.35}
@media(max-width:900px){
  .app{flex-direction:column}
  .sidebar{width:100%;border-right:none;border-bottom:1px solid var(--border)}
  .grid{grid-template-columns:1fr}
}
</style>
</head>

<body>
<div class="app">

  <!-- SIDEBAR -->
  <div class="sidebar">
    <div class="brand">
      <h1>StudyBuddy AI</h1>
      <p>Ultimate Hub (All in One)<br><span class="badge">Offline â€¢ No API</span></p>
    </div>

    <div class="nav">
      <button class="btn active" id="nav-home" onclick="showPage('home')">ğŸ  Home</button>
      <button class="btn" id="nav-ai" onclick="showPage('ai')">ğŸ¤– AI Chat</button>
      <button class="btn" id="nav-exam" onclick="showPage('exam')">ğŸ§  Exam Mode</button>
      <button class="btn" id="nav-code" onclick="showPage('code')">ğŸ’» Coding Mode</button>
      <button class="btn" id="nav-games" onclick="showPage('games')">ğŸ® Games Hub</button>
      <button class="btn" id="nav-mc" onclick="showPage('minecraft')">â›ï¸ PRO Minecraft Game</button>
      <button class="btn" id="nav-account" onclick="showPage('account')">ğŸ” Login / Signup</button>
    </div>

    <div class="smallrow">
      <button class="btn" onclick="toggleTheme()">ğŸŒ—</button>
      <button class="btn" onclick="exportAll()">â¬‡</button>
      <button class="btn" onclick="resetAll()">ğŸ§¹</button>
    </div>

    <div class="footer">
      <b>Modes:</b> AI â€¢ Exam â€¢ Coding â€¢ Games â€¢ Minecraft<br>
      <b>Accounts:</b> Local Login + Guest Mode<br>
      <b>Version:</b> INFINITY (Ultimate)
    </div>
  </div>

  <!-- MAIN -->
  <div class="main">

    <div class="topbar">
      <div class="left">
        <div class="pill" id="statusUser">User: Guest</div>
        <div class="pill" id="statusMode">Mode: HOME</div>
      </div>
      <div class="right">
        <button class="iconbtn" onclick="guestMode()">Continue as Guest</button>
        <button class="iconbtn" onclick="showPage('account')">Account</button>
      </div>
    </div>

    <div class="pages">

      <!-- HOME -->
      <div class="page active" id="page-home">
        <div class="card">
          <h2>ğŸ  Welcome</h2>
          <div class="sub">
            This is your <b>StudyBuddy AI - Ultimate Hub</b>.<br>
            Everything is inside one file.
          </div>
          <hr>
          <div class="grid">
            <div class="gameBtn" onclick="showPage('ai')">ğŸ¤– Open AI Chat</div>
            <div class="gameBtn" onclick="showPage('exam')">ğŸ§  Open Exam Mode</div>
            <div class="gameBtn" onclick="showPage('code')">ğŸ’» Open Coding Mode</div>
            <div class="gameBtn" onclick="showPage('games')">ğŸ® Open Games Hub</div>
            <div class="gameBtn" onclick="showPage('minecraft')">â›ï¸ Open PRO Minecraft</div>
            <div class="gameBtn" onclick="showPage('account')">ğŸ” Login / Signup</div>
          </div>
          <hr>
          <div class="note">
            âœ… Buttons work because all functions are inside this file.<br>
            âœ… No service worker. No external files needed.
          </div>
        </div>
      </div>

      <!-- AI CHAT -->
      <div class="page" id="page-ai">
        <div class="card">
          <h2>ğŸ¤– AI Chat</h2>
          <div class="sub">Ask anything (offline smart rules).</div>

          <div class="chatWrap">
            <div class="chatWindow" id="aiChat"></div>

            <div class="chatInput">
              <input id="aiInput" placeholder="Type... (Enter to send)" onkeydown="if(event.key==='Enter')aiSend()">
              <button class="btn green" style="flex:0.35" onclick="aiSend()">Send</button>
            </div>

            <div class="row">
              <button class="btn" onclick="aiQuick('hi')">Hi</button>
              <button class="btn" onclick="aiQuick('what can you do')">What can you do?</button>
              <button class="btn" onclick="aiQuick('who made you')">Who made you?</button>
            </div>
          </div>
        </div>
      </div>

      <!-- EXAM MODE -->
      <div class="page" id="page-exam">
        <div class="card">
          <h2>ğŸ§  Exam Mode</h2>
          <div class="sub">Practice questions and instant answers.</div>

          <div class="chatWrap">
            <div class="chatWindow" id="examChat"></div>

            <div class="chatInput">
              <input id="examInput" placeholder="Ask exam question..." onkeydown="if(event.key==='Enter')examSend()">
              <button class="btn blue" style="flex:0.35" onclick="examSend()">Ask</button>
            </div>

            <div class="row">
              <button class="btn" onclick="examQuick('Capital of Pakistan?')">Capital of Pakistan</button>
              <button class="btn" onclick="examQuick('6 Ã— 6 = ?')">6Ã—6</button>
              <button class="btn" onclick="examQuick('What is AI?')">What is AI?</button>
            </div>
          </div>
        </div>
      </div>

      <!-- CODING MODE -->
      <div class="page" id="page-code">
        <div class="card">
          <h2>ğŸ’» Coding Mode</h2>
          <div class="sub">Get code snippets and programming help (offline rules).</div>

          <div class="chatWrap">
            <div class="chatWindow" id="codeChat"></div>

            <div class="chatInput">
              <input id="codeInput" placeholder="Ask coding question..." onkeydown="if(event.key==='Enter')codeSend()">
              <button class="btn green" style="flex:0.35" onclick="codeSend()">Generate</button>
            </div>

            <div class="row">
              <button class="btn" onclick="codeQuick('best languages for AI')">Best AI Languages</button>
              <button class="btn" onclick="codeQuick('write a javascript function')">JS Function</button>
              <button class="btn" onclick="codeQuick('html template')">HTML Template</button>
            </div>
          </div>
        </div>
      </div>

      <!-- GAMES -->
      <div class="page" id="page-games">
        <div class="card">
          <h2>ğŸ® Games Hub</h2>
          <div class="sub">Offline mini games list + quick games.</div>

          <input id="gameSearch" placeholder="Search games..." oninput="renderGames()">

          <hr>

          <div class="grid" id="gameGrid"></div>

          <hr>
          <div class="note">
            Tip: Click a game name to play a simple version.
          </div>
        </div>
      </div>

      <!-- MINECRAFT GAME -->
      <div class="page" id="page-minecraft">
        <div class="card">
          <h2>â›ï¸ PRO MINECRAFT GAME</h2>
          <div class="sub">Browser version (single file). Infinite bosses + commands.</div>

          <div class="row">
            <div class="pill">Day: <span id="mcDay">1</span></div>
            <div class="pill">Area: <span id="mcArea">Plains</span></div>
            <div class="pill">HP: <span id="mcHP">100</span></div>
            <div class="pill">Food: <span id="mcFood">100</span></div>
          </div>

          <hr>

          <div class="grid">
            <div class="gameBtn" onclick="mcExplore()">ğŸŒ Explore</div>
            <div class="gameBtn" onclick="mcMine()">â›ï¸ Mine / Gather</div>
            <div class="gameBtn" onclick="mcFight()">âš”ï¸ Fight Mob</div>
            <div class="gameBtn" onclick="mcBoss()">ğŸ‰ Boss Arena</div>
            <div class="gameBtn" onclick="mcCraft()">ğŸ› ï¸ Craft</div>
            <div class="gameBtn" onclick="mcSleep()">ğŸŒ™ Sleep</div>
          </div>

          <hr>

          <div class="codebox" id="mcLog"></div>

          <hr>

          <div class="chatInput">
            <input id="mcCmd" class="mono" placeholder="Command Mode: /help" onkeydown="if(event.key==='Enter')mcCommand()">
            <button class="btn blue" style="flex:0.35" onclick="mcCommand()">Run</button>
          </div>

          <div class="note">
            Commands: <span class="mono">/help /stats /heal /kill /revive /give /destroyworld /god</span>
          </div>
        </div>
      </div>

      <!-- ACCOUNT -->
      <div class="page" id="page-account">
        <div class="card">
          <h2>ğŸ” Login / Signup</h2>
          <div class="sub">Local accounts (saved in browser). No Firebase needed.</div>

          <div class="row">
            <input id="accEmail" placeholder="Email">
            <input id="accPass" type="password" placeholder="Password">
          </div>

          <div class="row">
            <button class="btn green" onclick="signup()">Sign Up</button>
            <button class="btn blue" onclick="login()">Login</button>
            <button class="btn red" onclick="logout()">Logout</button>
          </div>

          <hr>

          <div class="row">
            <button class="btn" onclick="guestMode()">Continue as Guest</button>
            <button class="btn" onclick="showUsers
